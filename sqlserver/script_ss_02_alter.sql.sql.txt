--  NOT NULL
ALTER TABLE Facultad ALTER COLUMN ID_Facultad INT NOT NULL;
ALTER TABLE Departamento ALTER COLUMN ID_Departamento INT NOT NULL;
ALTER TABLE Programa_Academico ALTER COLUMN ID_Programa INT NOT NULL;
ALTER TABLE Usuario ALTER COLUMN ID_Usuario INT NOT NULL;
ALTER TABLE Rol ALTER COLUMN ID_Rol INT NOT NULL;
ALTER TABLE Permiso ALTER COLUMN ID_Permiso INT NOT NULL;
ALTER TABLE Rol_Permiso ALTER COLUMN ID_Rol_Permiso INT NOT NULL;
ALTER TABLE Usuario_Rol ALTER COLUMN ID_Usuario_Rol INT NOT NULL;
ALTER TABLE Docente ALTER COLUMN ID_Docente INT NOT NULL;
ALTER TABLE Estudiante ALTER COLUMN ID_Estudiante INT NOT NULL;
ALTER TABLE Asignatura ALTER COLUMN ID_Asignatura INT NOT NULL;
ALTER TABLE Microcurriculo ALTER COLUMN ID_Microcurriculo INT NOT NULL;
ALTER TABLE Elemento_ERA ALTER COLUMN ID_ERA INT NOT NULL;
ALTER TABLE Metodologia ALTER COLUMN ID_Metodologia INT NOT NULL;
ALTER TABLE Grupo_Investigacion ALTER COLUMN ID_Grupo INT NOT NULL;
ALTER TABLE Proyecto ALTER COLUMN ID_Proyecto INT NOT NULL;
ALTER TABLE Proyecto_Asignatura ALTER COLUMN ID_Proyecto_Asignatura INT NOT NULL;
ALTER TABLE Proyecto_Metodologia ALTER COLUMN ID_Proyecto_Metodologia INT NOT NULL;
ALTER TABLE Proyecto_Grupo_Investigacion ALTER COLUMN ID_Proyecto_Grupo INT NOT NULL;
ALTER TABLE Tipo_Entregable ALTER COLUMN ID_Tipo_Entregable INT NOT NULL;
ALTER TABLE Entregable ALTER COLUMN ID_Entregable INT NOT NULL;
ALTER TABLE Grupo_Trabajo ALTER COLUMN ID_Grupo_Trabajo INT NOT NULL;
ALTER TABLE Estudiante_Grupo_Trabajo ALTER COLUMN ID_Estudiante_Grupo INT NOT NULL;
ALTER TABLE Rubrica_Evaluacion ALTER COLUMN ID_Rubrica INT NOT NULL;
ALTER TABLE Criterio_Rubrica ALTER COLUMN ID_Criterio_Rubrica INT NOT NULL;
ALTER TABLE Evaluacion ALTER COLUMN ID_Evaluacion INT NOT NULL;
ALTER TABLE Resultado_Evaluacion ALTER COLUMN ID_Resultado INT NOT NULL;
ALTER TABLE Calendario_Entrega ALTER COLUMN ID_Calendario INT NOT NULL;
ALTER TABLE Requerimiento_Insumo ALTER COLUMN ID_Requerimiento INT NOT NULL;
ALTER TABLE Notificacion ALTER COLUMN ID_Notificacion INT NOT NULL;
ALTER TABLE Historial_Cambio ALTER COLUMN ID_Historial INT NOT NULL;

--  PRIMARY KEYS
ALTER TABLE Facultad ADD CONSTRAINT PK_Facultad PRIMARY KEY (ID_Facultad);
ALTER TABLE Departamento ADD CONSTRAINT PK_Departamento PRIMARY KEY (ID_Departamento);
ALTER TABLE Programa_Academico ADD CONSTRAINT PK_Programa_Academico PRIMARY KEY (ID_Programa);
ALTER TABLE Usuario ADD CONSTRAINT PK_Usuario PRIMARY KEY (ID_Usuario);
ALTER TABLE Rol ADD CONSTRAINT PK_Rol PRIMARY KEY (ID_Rol);
ALTER TABLE Permiso ADD CONSTRAINT PK_Permiso PRIMARY KEY (ID_Permiso);
ALTER TABLE Rol_Permiso ADD CONSTRAINT PK_Rol_Permiso PRIMARY KEY (ID_Rol_Permiso);
ALTER TABLE Usuario_Rol ADD CONSTRAINT PK_Usuario_Rol PRIMARY KEY (ID_Usuario_Rol);
ALTER TABLE Docente ADD CONSTRAINT PK_Docente PRIMARY KEY (ID_Docente);
ALTER TABLE Estudiante ADD CONSTRAINT PK_Estudiante PRIMARY KEY (ID_Estudiante);
ALTER TABLE Asignatura ADD CONSTRAINT PK_Asignatura PRIMARY KEY (ID_Asignatura);
ALTER TABLE Microcurriculo ADD CONSTRAINT PK_Microcurriculo PRIMARY KEY (ID_Microcurriculo);
ALTER TABLE Elemento_ERA ADD CONSTRAINT PK_Elemento_ERA PRIMARY KEY (ID_ERA);
ALTER TABLE Metodologia ADD CONSTRAINT PK_Metodologia PRIMARY KEY (ID_Metodologia);
ALTER TABLE Grupo_Investigacion ADD CONSTRAINT PK_Grupo_Investigacion PRIMARY KEY (ID_Grupo);
ALTER TABLE Proyecto ADD CONSTRAINT PK_Proyecto PRIMARY KEY (ID_Proyecto);
ALTER TABLE Proyecto_Asignatura ADD CONSTRAINT PK_Proyecto_Asignatura PRIMARY KEY (ID_Proyecto_Asignatura);
ALTER TABLE Proyecto_Metodologia ADD CONSTRAINT PK_Proyecto_Metodologia PRIMARY KEY (ID_Proyecto_Metodologia);
ALTER TABLE Proyecto_Grupo_Investigacion ADD CONSTRAINT PK_Proyecto_Grupo_Investigacion PRIMARY KEY (ID_Proyecto_Grupo);
ALTER TABLE Tipo_Entregable ADD CONSTRAINT PK_Tipo_Entregable PRIMARY KEY (ID_Tipo_Entregable);
ALTER TABLE Entregable ADD CONSTRAINT PK_Entregable PRIMARY KEY (ID_Entregable);
ALTER TABLE Grupo_Trabajo ADD CONSTRAINT PK_Grupo_Trabajo PRIMARY KEY (ID_Grupo_Trabajo);
ALTER TABLE Estudiante_Grupo_Trabajo ADD CONSTRAINT PK_Estudiante_Grupo_Trabajo PRIMARY KEY (ID_Estudiante_Grupo);
ALTER TABLE Rubrica_Evaluacion ADD CONSTRAINT PK_Rubrica_Evaluacion PRIMARY KEY (ID_Rubrica);
ALTER TABLE Criterio_Rubrica ADD CONSTRAINT PK_Criterio_Rubrica PRIMARY KEY (ID_Criterio_Rubrica);
ALTER TABLE Evaluacion ADD CONSTRAINT PK_Evaluacion PRIMARY KEY (ID_Evaluacion);
ALTER TABLE Resultado_Evaluacion ADD CONSTRAINT PK_Resultado_Evaluacion PRIMARY KEY (ID_Resultado);
ALTER TABLE Calendario_Entrega ADD CONSTRAINT PK_Calendario_Entrega PRIMARY KEY (ID_Calendario);
ALTER TABLE Requerimiento_Insumo ADD CONSTRAINT PK_Requerimiento_Insumo PRIMARY KEY (ID_Requerimiento);
ALTER TABLE Notificacion ADD CONSTRAINT PK_Notificacion PRIMARY KEY (ID_Notificacion);
ALTER TABLE Historial_Cambio ADD CONSTRAINT PK_Historial_Cambio PRIMARY KEY (ID_Historial);

-- Foreign Keys 
ALTER TABLE Departamento ADD CONSTRAINT FK_Departamento_Facultad FOREIGN KEY (ID_Facultad) REFERENCES Facultad(ID_Facultad);
ALTER TABLE Programa_Academico ADD CONSTRAINT FK_Programa_Departamento FOREIGN KEY (ID_Departamento) REFERENCES Departamento(ID_Departamento);
ALTER TABLE Rol_Permiso ADD CONSTRAINT FK_RolPermiso_Rol FOREIGN KEY (ID_Rol) REFERENCES Rol(ID_Rol);
ALTER TABLE Rol_Permiso ADD CONSTRAINT FK_RolPermiso_Permiso FOREIGN KEY (ID_Permiso) REFERENCES Permiso(ID_Permiso);
ALTER TABLE Usuario_Rol ADD CONSTRAINT FK_UsuarioRol_Usuario FOREIGN KEY (ID_Usuario) REFERENCES Usuario(ID_Usuario);
ALTER TABLE Usuario_Rol ADD CONSTRAINT FK_UsuarioRol_Rol FOREIGN KEY (ID_Rol) REFERENCES Rol(ID_Rol);
ALTER TABLE Docente ADD CONSTRAINT FK_Docente_Usuario FOREIGN KEY (ID_Docente) REFERENCES Usuario(ID_Usuario);
ALTER TABLE Docente ADD CONSTRAINT FK_Docente_Departamento FOREIGN KEY (ID_Departamento) REFERENCES Departamento(ID_Departamento);
ALTER TABLE Estudiante ADD CONSTRAINT FK_Estudiante_Usuario FOREIGN KEY (ID_Estudiante) REFERENCES Usuario(ID_Usuario);
ALTER TABLE Estudiante ADD CONSTRAINT FK_Estudiante_Programa FOREIGN KEY (ID_Programa) REFERENCES Programa_Academico(ID_Programa);
ALTER TABLE Asignatura ADD CONSTRAINT FK_Asignatura_Programa FOREIGN KEY (ID_Programa) REFERENCES Programa_Academico(ID_Programa);
ALTER TABLE Microcurriculo ADD CONSTRAINT FK_Microcurriculo_Asignatura FOREIGN KEY (ID_Asignatura) REFERENCES Asignatura(ID_Asignatura);
ALTER TABLE Elemento_ERA ADD CONSTRAINT FK_ERA_Microcurriculo FOREIGN KEY (ID_Microcurriculo) REFERENCES Microcurriculo(ID_Microcurriculo);
ALTER TABLE Grupo_Investigacion ADD CONSTRAINT FK_Grupo_Departamento FOREIGN KEY (ID_Departamento) REFERENCES Departamento(ID_Departamento);
ALTER TABLE Proyecto ADD CONSTRAINT FK_Proyecto_Docente FOREIGN KEY (ID_Docente_Responsable) REFERENCES Docente(ID_Docente);
ALTER TABLE Proyecto_Asignatura ADD CONSTRAINT FK_ProyectoAsignatura_Proyecto FOREIGN KEY (ID_Proyecto) REFERENCES Proyecto(ID_Proyecto);
ALTER TABLE Proyecto_Asignatura ADD CONSTRAINT FK_ProyectoAsignatura_Asignatura FOREIGN KEY (ID_Asignatura) REFERENCES Asignatura(ID_Asignatura);
ALTER TABLE Proyecto_Metodologia ADD CONSTRAINT FK_ProyectoMetodologia_Proyecto FOREIGN KEY (ID_Proyecto) REFERENCES Proyecto(ID_Proyecto);
ALTER TABLE Proyecto_Metodologia ADD CONSTRAINT FK_ProyectoMetodologia_Metodologia FOREIGN KEY (ID_Metodologia) REFERENCES Metodologia(ID_Metodologia);
ALTER TABLE Proyecto_Grupo_Investigacion ADD CONSTRAINT FK_ProyectoGrupo_Proyecto FOREIGN KEY (ID_Proyecto) REFERENCES Proyecto(ID_Proyecto);
ALTER TABLE Proyecto_Grupo_Investigacion ADD CONSTRAINT FK_ProyectoGrupo_Grupo FOREIGN KEY (ID_Grupo) REFERENCES Grupo_Investigacion(ID_Grupo);
ALTER TABLE Entregable ADD CONSTRAINT FK_Entregable_Proyecto FOREIGN KEY (ID_Proyecto) REFERENCES Proyecto(ID_Proyecto);
ALTER TABLE Entregable ADD CONSTRAINT FK_Entregable_Tipo FOREIGN KEY (ID_Tipo_Entregable) REFERENCES Tipo_Entregable(ID_Tipo_Entregable);
ALTER TABLE Grupo_Trabajo ADD CONSTRAINT FK_GrupoTrabajo_Proyecto FOREIGN KEY (ID_Proyecto) REFERENCES Proyecto(ID_Proyecto);
ALTER TABLE Grupo_Trabajo ADD CONSTRAINT FK_GrupoTrabajo_Estudiante FOREIGN KEY (ID_Estudiante_Lider) REFERENCES Estudiante(ID_Estudiante);
ALTER TABLE Estudiante_Grupo_Trabajo ADD CONSTRAINT FK_EstudianteGrupo_Estudiante FOREIGN KEY (ID_Estudiante) REFERENCES Estudiante(ID_Estudiante);
ALTER TABLE Estudiante_Grupo_Trabajo ADD CONSTRAINT FK_EstudianteGrupo_Grupo FOREIGN KEY (ID_Grupo_Trabajo) REFERENCES Grupo_Trabajo(ID_Grupo_Trabajo);
ALTER TABLE Rubrica_Evaluacion ADD CONSTRAINT FK_Rubrica_ERA FOREIGN KEY (ID_ERA) REFERENCES Elemento_ERA(ID_ERA);
ALTER TABLE Criterio_Rubrica ADD CONSTRAINT FK_Criterio_Rubrica FOREIGN KEY (ID_Rubrica) REFERENCES Rubrica_Evaluacion(ID_Rubrica);
ALTER TABLE Evaluacion ADD CONSTRAINT FK_Evaluacion_Proyecto FOREIGN KEY (ID_Proyecto) REFERENCES Proyecto(ID_Proyecto);
ALTER TABLE Evaluacion ADD CONSTRAINT FK_Evaluacion_Rubrica FOREIGN KEY (ID_Rubrica) REFERENCES Rubrica_Evaluacion(ID_Rubrica);
ALTER TABLE Resultado_Evaluacion ADD CONSTRAINT FK_Resultado_Evaluacion FOREIGN KEY (ID_Evaluacion) REFERENCES Evaluacion(ID_Evaluacion);
ALTER TABLE Resultado_Evaluacion ADD CONSTRAINT FK_Resultado_Grupo FOREIGN KEY (ID_Grupo_Trabajo) REFERENCES Grupo_Trabajo(ID_Grupo_Trabajo);
ALTER TABLE Calendario_Entrega ADD CONSTRAINT FK_Calendario_Proyecto FOREIGN KEY (ID_Proyecto) REFERENCES Proyecto(ID_Proyecto);
ALTER TABLE Requerimiento_Insumo ADD CONSTRAINT FK_Requerimiento_Proyecto FOREIGN KEY (ID_Proyecto) REFERENCES Proyecto(ID_Proyecto);
ALTER TABLE Notificacion ADD CONSTRAINT FK_Notificacion_Usuario FOREIGN KEY (ID_Usuario_Destino) REFERENCES Usuario(ID_Usuario);
ALTER TABLE Historial_Cambio ADD CONSTRAINT FK_Historial_Usuario FOREIGN KEY (ID_Usuario) REFERENCES Usuario(ID_Usuario);

-- Unique Keys 
ALTER TABLE Usuario ADD CONSTRAINT UQ_Usuario_Correo UNIQUE (Correo);
ALTER TABLE Rol ADD CONSTRAINT UQ_Rol_Nombre UNIQUE (Nombre);
ALTER TABLE Permiso ADD CONSTRAINT UQ_Permiso_Nombre UNIQUE (Nombre);
ALTER TABLE Rol_Permiso ADD CONSTRAINT UQ_Rol_Permiso UNIQUE (ID_Rol, ID_Permiso);
ALTER TABLE Usuario_Rol ADD CONSTRAINT UQ_Usuario_Rol UNIQUE (ID_Usuario, ID_Rol);
ALTER TABLE Estudiante ADD CONSTRAINT UQ_Estudiante_Matricula UNIQUE (Matricula);
ALTER TABLE Asignatura ADD CONSTRAINT UQ_Asignatura_Codigo UNIQUE (Codigo);
ALTER TABLE Microcurriculo ADD CONSTRAINT UQ_Microcurriculo_Asignatura UNIQUE (ID_Asignatura);
ALTER TABLE Metodologia ADD CONSTRAINT UQ_Metodologia_Nombre UNIQUE (Nombre);
ALTER TABLE Grupo_Investigacion ADD CONSTRAINT UQ_Grupo_Investigacion_Nombre UNIQUE (Nombre);
ALTER TABLE Elemento_ERA ADD CONSTRAINT UQ_ERA_Codigo UNIQUE (ID_Microcurriculo, Codigo);
ALTER TABLE Proyecto_Asignatura ADD CONSTRAINT UQ_Proyecto_Asignatura UNIQUE (ID_Proyecto, ID_Asignatura);
ALTER TABLE Proyecto_Metodologia ADD CONSTRAINT UQ_Proyecto_Metodologia UNIQUE (ID_Proyecto, ID_Metodologia);
ALTER TABLE Proyecto_Grupo_Investigacion ADD CONSTRAINT UQ_Proyecto_Grupo UNIQUE (ID_Proyecto, ID_Grupo);
ALTER TABLE Grupo_Trabajo ADD CONSTRAINT UQ_Grupo_Trabajo UNIQUE (ID_Proyecto, Nombre);
ALTER TABLE Estudiante_Grupo_Trabajo ADD CONSTRAINT UQ_Estudiante_Grupo UNIQUE (ID_Estudiante, ID_Grupo_Trabajo);
ALTER TABLE Resultado_Evaluacion ADD CONSTRAINT UQ_Resultado_Evaluacion UNIQUE (ID_Evaluacion, ID_Grupo_Trabajo);